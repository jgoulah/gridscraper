# GridScraper Configuration Example
# Copy this file to config.yaml and customize

# ============================================================================
# FETCH SETTINGS
# ============================================================================
# Number of days of historical data to fetch from utility APIs
# Default: 90 days (3 months)
days_to_fetch: 90  # Global default for all services

# Service-specific overrides (optional)
# These override the global days_to_fetch setting for specific services
# Falls back to days_to_fetch if not set
nyseg_days_to_fetch: 90    # NYSEG-specific days to fetch
coned_days_to_fetch: 15    # ConEd-specific days to fetch

# ============================================================================
# COST CALCULATION RATES
# ============================================================================
# Cost per kWh for each service (used for cost statistics generation)
# These rates are used by 'generate-stats' when --rate flag is not provided
# You can find your rate on your utility bill or account portal
nyseg_rate: 0.20102749     # NYSEG cost per kWh (e.g., $0.20102749)
coned_rate: 0.15000000     # ConEd cost per kWh (e.g., $0.15000000)

# ============================================================================
# AUTHENTICATION
# ============================================================================
cookies:
  # --- NYSEG Authentication ---
  # Option 1 (Recommended): Automatic authentication with credentials
  nyseg_username: ""         # Your NYSEG username
  nyseg_password: ""         # Your NYSEG password

  # Option 2: Manual cookie-based authentication
  # Populated by 'gridscraper login nyseg' command
  nyseg: []

  # Auth token (automatically populated and refreshed by the application)
  nyseg_auth_token: ""

  # --- Con Edison Authentication ---
  # Automatic authentication with credentials (required for Con Edison)
  coned_username: ""         # Your Con Edison username
  coned_password: ""         # Your Con Edison password
  coned_challenge_answer: "" # Answer to your security challenge question

  # Manual cookies (optional, populated by 'gridscraper login coned')
  coned: []

  # Auth tokens (automatically populated and refreshed by the application)
  coned_auth_token: ""       # Bearer token for API authentication
  coned_customer_uuid: ""    # Customer UUID for API requests

# ============================================================================
# HOME ASSISTANT INTEGRATION
# ============================================================================

# --- NYSEG Home Assistant Configuration ---
home_assistant:
  enabled: true                              # Set to false to disable publishing
  url: "http://yourdomain.local:5050"        # AppDaemon URL (port 5050, NOT HA port 8123)
  token: "your-long-lived-access-token"      # Create in HA: Settings → Profile → Long-Lived Access Tokens
  entity_id: "sensor.nyseg_energy_usage_direct"  # Must match your template sensor entity_id

# --- Con Edison Home Assistant Configuration ---
# Separate configuration allows publishing to a different Home Assistant instance
coned_home_assistant:
  enabled: true                              # Set to false to disable publishing
  url: "http://yourdomain.local:5050"        # AppDaemon URL (can be different from NYSEG)
  token: "your-long-lived-access-token"      # Can be different token/instance
  entity_id: "sensor.coned_energy_usage_direct"  # Must match your template sensor entity_id
